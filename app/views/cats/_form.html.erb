<% action = cat.persisted? ? cat_url(cat.id) : cats_url %>
<% method = cat.persisted? ? :patch : :post %>

<%= link_to "<<Back", cats_url %>

<%= render "shared/errors" %>

<br><br>

<form action="<%= action %>" method="post">
  <input type="hidden" name="_method" value="<%= method %>">

  <label for="name">Name</label>
  <input type="text" name="cat[name]" value="<%= cat.name %>">

  <label for="sex">Sex</label>
  <input type="radio" name="cat[sex]" value="M"
         <%= cat.sex == "M" ? "checked" : ""%> >M
  <input type="radio" name="cat[sex]" value="F"
          <%= cat.sex == "F" ? "checked" : ""%> >F

  <select name="cat[color]">
    <label for="color">Color</label>
    <option value="color" disabled="true" selected="true">Choose a color</option>

    <% Cat::COLORS.each do |color| %>
      <option value="<%= color %>" <%= cat.color == color ? "selected" : "" %>>
        <%= color %>
      </option>
    <% end %>

  </select>

  <label for="birth_date">Birthday</label>
  <input type="date" name="cat[birth_date]" value="<%= cat.birth_date %>">

  <br>

  <label for="description">Description</label><br>
  <textarea name="cat[description]" rows="8" cols="80"><%= cat.description %></textarea>

  <br>
  <input type="submit" value="Submit">

</form>
